{% load static %}

<head>
    <title>Bulk Materials</title>
    <link rel="icon" href="{% static 'Images/Black_Icon.png' %}" sizes="16x16">
    <link rel="stylesheet" type="text/css"
        href="{% static 'CSS/dbstyle.css' %}" />
    <link rel="stylesheet" href="{% static 'CSS/sortable-theme-dark.css' %}" />
    <link href='https://fonts.googleapis.com/css?family=Nunito:300'
        rel='stylesheet' type='text/css'>
</head>

<body onload="displayResults()">

  <div id="HomePageHeaderBox">


      <a href="/">
            <img src="{% static "Images/Icon.png" %}" id="Icon" style="display: inline; width: 102; height: 115; position: relative; top: 2px; left: 42px;"/>
      </a>
      <h1 id="HomePageHeader">Bulk Materials</h1>
      <div id="Menu">
          <a class="hvr-float-shadow" href="/">Home</a>
          <a class="hvr-float-shadow" href="/about">About</a>
          <a class="hvr-float-shadow" href="/docs">Docs</a>
          <a class="hvr-float-shadow" href="/contact">Contact</a>
          <a class="hvr-float-shadow" href="/api" id="Api">API</a>
          {% if is_signed_in %}
            <a class="hvr-float-shadow" href="/logout" id="SignOut">Sign Out</a>
          {% else %}
            <a class="hvr-float-shadow" href="/login" id="SignOut">Sign In</a>
          {% endif %}
      </div>
  </div>

  <script type="text/javascript" src="{% static "javascript/3Dmol/jquery.js" %}">
  </script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="{% static "parallax.js" %}"></script>
  <script src="{% static "javascript/3Dmol/3Dmol-nojquery-min.js" %}"></script>

  <script>
  function add(ev) {
      var elt_name = (ev.target.id + "-");
      var formulabox = document.getElementById("FormulaBox");
      var oldformula = formulabox.value;
      if (oldformula.indexOf(elt_name) != -1) {
          formulabox.value = oldformula.replace(elt_name,"");
          document.getElementById(ev.target.id).style.backgroundColor = "black";
      } else {
          formulabox.value = (oldformula + elt_name);
          document.getElementById(ev.target.id).style.backgroundColor = "#fcb040";
      }
  }
  </script>

  <div class="dead_element" style="left: 50px; top: 180px;" id="H">H</div>
  <div class="dead_element" style="left: 50px; top: 235px;" id="Li">Li</div>
  <div class="dead_element" style="left: 50px; top: 290px;" id="Na">Na</div>
  <div class="dead_element" style="left: 50px; top: 345px;" id="K">K</div>
  <div class="dead_element" style="left: 50px; top: 400px;" id="Rb">Rb</div>
  <div class="dead_element" style="left: 50px; top: 455px;" id="Cs">Cs</div>

  <div class="dead_element" style="left: 105px; top: 235px;" id="Be">Be</div>
  <div class="dead_element" style="left: 105px; top: 290px;" id="Mg">Mg</div>
  <div class="dead_element" style="left: 105px; top: 345px;" id="Ca">Ca</div>
  <div class="dead_element" style="left: 105px; top: 400px;" id="Sr">Sr</div>
  <div class="dead_element" style="left: 105px; top: 455px;" id="Ba">Ba</div>

  <div class="live_element" style="left: 160px; top: 345px;" id="Sc" onclick="add(event)">Sc</div>
  <div class="dead_element" style="left: 160px; top: 400px;" id="Y">Y</div>
  <div class="placeholder" style="left: 160px; top: 455px;" id="La_placeholder">La</div>
  <div class="dead_element" style="left: 160px; top: 530px;" id="La">La</div>
  <div class="dead_element" style="left: 160px; top: 585px;" id="Ac">Ac</div>

  <div class="live_element" style="left: 215px; top: 345px;" id="Ti" onclick="add(event)">Ti</div>
  <div class="live_element" style="left: 215px; top: 400px;" id="Zr" onclick="add(event)">Zr</div>
  <div class="live_element" style="left: 215px; top: 455px;" id="Hf" onclick="add(event)">Hf</div>
  <div class="dead_element" style="left: 215px; top: 530px;" id="Ce">Ce</div>
  <div class="dead_element" style="left: 215px; top: 585px;" id="Th">Th</div>

  <div class="live_element" style="left: 270px; top: 345px;" id="V" onclick="add(event)">V</div>
  <div class="live_element" style="left: 270px; top: 400px;" id="Nb" onclick="add(event)">Nb</div>
  <div class="live_element" style="left: 270px; top: 455px;" id="Ta" onclick="add(event)">Ta</div>
  <div class="dead_element" style="left: 270px; top: 530px;" id="Pr">Pr</div>
  <div class="dead_element" style="left: 270px; top: 585px;" id="Pa">Pa</div>

  <div class="live_element" style="left: 325px; top: 345px;" id="Cr" onclick="add(event)">Cr</div>
  <div class="live_element" style="left: 325px; top: 400px;" id="Mo" onclick="add(event)">Mo</div>
  <div class="dead_element" style="left: 325px; top: 455px;" id="W">W</div>
  <div class="dead_element" style="left: 325px; top: 530px;" id="Nd">Nd</div>
  <div class="dead_element" style="left: 325px; top: 585px;" id="U">U</div>

  <div class="dead_element" style="left: 380px; top: 345px;" id="Mn">Mn</div>
  <div class="dead_element" style="left: 380px; top: 400px;" id="Tc">Tc</div>
  <div class="dead_element" style="left: 380px; top: 455px;" id="Re">Re</div>
  <div class="dead_element" style="left: 380px; top: 530px;" id="Pm">Pm</div>
  <div class="dead_element" style="left: 380px; top: 585px;" id="Np">Np</div>

  <div class="dead_element" style="left: 435px; top: 345px;" id="Fe">Fe</div>
  <div class="dead_element" style="left: 435px; top: 400px;" id="Ru">Ru</div>
  <div class="dead_element" style="left: 435px; top: 455px;" id="Os">Os</div>
  <div class="dead_element" style="left: 435px; top: 530px;" id="Sm">Sm</div>
  <div class="dead_element" style="left: 435px; top: 585px;" id="Pu">Pu</div>

  <div class="dead_element" style="left: 490px; top: 345px;" id="Co">Co</div>
  <div class="dead_element" style="left: 490px; top: 400px;" id="Rh">Rh</div>
  <div class="dead_element" style="left: 490px; top: 455px;" id="Ir">Ir</div>
  <div class="dead_element" style="left: 490px; top: 530px;" id="Eu">Eu</div>
  <div class="dead_element" style="left: 490px; top: 585px;" id="Am">Am</div>

  <div class="dead_element" style="left: 545px; top: 345px;" id="Ni">Ni</div>
  <div class="dead_element" style="left: 545px; top: 400px;" id="Pd">Pd</div>
  <div class="dead_element" style="left: 545px; top: 455px;" id="Pt">Pt</div>
  <div class="dead_element" style="left: 545px; top: 530px;" id="Gd">Gd</div>
  <div class="dead_element" style="left: 545px; top: 585px;" id="Cm">Cm</div>

  <div class="dead_element" style="left: 600px; top: 345px;" id="Cu">Cu</div>
  <div class="dead_element" style="left: 600px; top: 400px;" id="Ag">Ag</div>
  <div class="dead_element" style="left: 600px; top: 455px;" id="Au">Au</div>
  <div class="dead_element" style="left: 600px; top: 530px;" id="Tb">Tb</div>
  <div class="dead_element" style="left: 600px; top: 585px;" id="Bk">Bk</div>

  <div class="dead_element" style="left: 655px; top: 345px;" id="Zn">Zn</div>
  <div class="live_element" style="left: 655px; top: 400px;" id="Cd" onclick="add(event)">Cd</div>
  <div class="dead_element" style="left: 655px; top: 455px;" id="Hg">Hg</div>
  <div class="dead_element" style="left: 655px; top: 530px;" id="Dy">Dy</div>
  <div class="dead_element" style="left: 655px; top: 585px;" id="Cf">Cf</div>

  <div class="dead_element" style="left: 710px; top: 235px;" id="B">B</div>
  <div class="live_element" style="left: 710px; top: 290px;" id="Al" onclick="add(event)">Al</div>
  <div class="live_element" style="left: 710px; top: 345px;" id="Ga" onclick="add(event)">Ga</div>
  <div class="live_element" style="left: 710px; top: 400px;" id="In" onclick="add(event)">In</div>
  <div class="live_element" style="left: 710px; top: 455px;" id="Tl" onclick="add(event)">Tl</div>
  <div class="dead_element" style="left: 710px; top: 530px;" id="Ho">Ho</div>
  <div class="dead_element" style="left: 710px; top: 585px;" id="Es">Es</div>

  <div class="live_element" style="left: 765px; top: 235px;" id="C" onclick="add(event)">C</div>
  <div class="live_element" style="left: 765px; top: 290px;" id="Si" onclick="add(event)">Si</div>
  <div class="live_element" style="left: 765px; top: 345px;" id="Ge" onclick="add(event)">Ge</div>
  <div class="live_element" style="left: 765px; top: 400px;" id="Sn" onclick="add(event)">Sn</div>
  <div class="live_element" style="left: 765px; top: 455px;" id="Pb" onclick="add(event)">Pb</div>
  <div class="dead_element" style="left: 765px; top: 530px;" id="Er">Er</div>
  <div class="dead_element" style="left: 765px; top: 585px;" id="Fm">Fm</div>

  <div class="live_element" style="left: 820px; top: 235px;" id="N" onclick="add(event)">N</div>
  <div class="live_element" style="left: 820px; top: 290px;" id="P" onclick="add(event)">P</div>
  <div class="live_element" style="left: 820px; top: 345px;" id="As" onclick="add(event)">As</div>
  <div class="dead_element" style="left: 820px; top: 400px;" id="Sb">Sb</div>
  <div class="dead_element" style="left: 820px; top: 455px;" id="Bi">Bi</div>
  <div class="dead_element" style="left: 820px; top: 530px;" id="Tm">Tm</div>
  <div class="dead_element" style="left: 820px; top: 585px;" id="Md">Md</div>

  <div class="dead_element" style="left: 875px; top: 235px;" id="O">O</div>
  <div class="live_element" style="left: 875px; top: 290px;" id="S" onclick="add(event)">S</div>
  <div class="dead_element" style="left: 875px; top: 345px;" id="Se">Se</div>
  <div class="dead_element" style="left: 875px; top: 400px;" id="Te">Te</div>
  <div class="dead_element" style="left: 875px; top: 455px;" id="Po">Po</div>
  <div class="dead_element" style="left: 875px; top: 530px;" id="Yb">Yb</div>
  <div class="dead_element" style="left: 875px; top: 585px;" id="No">No</div>

  <div class="dead_element" style="left: 930px; top: 235px;" id="F">F</div>
  <div class="dead_element" style="left: 930px; top: 290px;" id="Cl">Cl</div>
  <div class="dead_element" style="left: 930px; top: 345px;" id="Br">Br</div>
  <div class="dead_element" style="left: 930px; top: 400px;" id="I">I</div>
  <div class="dead_element" style="left: 930px; top: 455px;" id="At">At</div>
  <div class="dead_element" style="left: 930px; top: 530px;" id="Lu">Lu</div>
  <div class="dead_element" style="left: 930px; top: 585px;" id="Lr">Lr</div>

  <div class="dead_element" style="left: 985px; top: 180px;" id="He">He</div>
  <div class="dead_element" style="left: 985px; top: 235px;" id="Ne">Ne</div>
  <div class="dead_element" style="left: 985px; top: 290px;" id="Ar">Ar</div>
  <div class="dead_element" style="left: 985px; top: 345px;" id="Kr">Kr</div>
  <div class="dead_element" style="left: 985px; top: 400px;" id="Xe">Xe</div>
  <div class="dead_element" style="left: 985px; top: 455px;" id="Rn">Rn</div>
<p>HERE TESTING</p>


  <ul> TRIGGERED </ul>
    <table data-sortable class="sortable-theme-dark" style="position: relative; top: 450px; left: 50px;">
      <thead>
        <tr>
            <th style="cursor: pointer; width: 250px;">Material</th>
        </tr>
      </thead>
      <tbody id="tableBody">

          {% for results in all_results %}
            <tr>

              <td style="width: 150px;">
                <a style="top: 0px; color: white;" href = '/database/{{  results.id  }}'> {{  results.composition.formula  }}</a>
            </td>

            </tr>
          {% endfor %}

        </tr>
      </tbody>
    </table>

    <form method="post">{% csrf_token %}
        <input type="text" id="FormulaBox" name="FormulaBox"
            placeholder="'V-Al-C', 'Nb2SiN', or mpquery">
        <input type="submit" value="Submit" name="Submit" id="Submit">
    </form>

    <!-- Trigger/Open The Modal -->
    <button id="Help">[Help]</button>

    <!-- The Modal -->
    <div id="myModal" class="modal">

      <!-- Modal content -->
      <div class="modal-content">
        <span class="close">X</span>
        <p>There are several ways to query the database:</p>
        <p>1. Click on elements to search for a general composition</p>
        <p>2. Enter a specific formula</p>
        <p>3. Enter an mpquery (dictionary-style search). For example, entering
          {} will return all materials in the database. Entering
          {'elements':{'$in':['Y']}} will return all materials that contain Y.
          Please see the <a style="color: #fcb040; font-size: 16;" target="_blank" href="https://github.com/materialsproject/mapidoc">
          Materials Project API documentation</a> for more details on the
          mpquery syntax.</p>
      </div>

    </div>

    <script>
    // Get the modal
    var modal = document.getElementById('myModal');

    // Get the button that opens the modal
    var btn = document.getElementById("Help");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
    </script>

    <script src="{% static 'javascript/install.js' %}"></script>
    <script src="{% static 'javascript/sortable.js' %}"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85193239-1', 'auto');
      ga('send', 'pageview');

    </script>

</body>
